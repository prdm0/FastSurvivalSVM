% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tune.R
\name{tune_fastsvm_all}
\alias{tune_fastsvm_all}
\title{Multi-Kernel Grid Search (Tuning All Kernels)}
\usage{
tune_fastsvm_all(
  data,
  time_col = "t",
  delta_col = "delta",
  grids,
  cv = 5L,
  n_jobs = 1L,
  verbose = 0L,
  ...
)
}
\arguments{
\item{data}{A \code{data.frame} with training data.}

\item{time_col}{Name of the time column.}

\item{delta_col}{Name of the event column.}

\item{grids}{A \strong{named list} of parameter grids. Each element should be a grid 
dictionary for a specific kernel.}

\item{cv}{Integer. Number of folds.}

\item{n_jobs}{Integer. Use 1 if using custom kernels.}

\item{verbose}{Integer.}

\item{...}{Additional fixed parameters (e.g., \code{max_iter}).}
}
\value{
An object of class \code{"fastsvm_multi_grid"}, which is a list of \code{fastsvm_grid} objects.
}
\description{
Runs a separate Grid Search for each kernel configuration provided in a named list.
Returns the best parameters for \strong{each} kernel type.
}
\examples{
\dontrun{
if (reticulate::py_module_available("sksurv")) {
  library(FastSurvivalSVM)
  set.seed(42)
  df <- data_generation(n = 150, prop_cen = 0.3)

  # --- A. Custom Kernel Factories ---
  wavelet_factory <- function(a = 1.0) {
    force(a)
    function(x, z) {
      u <- (as.numeric(x) - as.numeric(z)) / a
      prod(cos(1.75 * u) * exp(-0.5 * u^2))
    }
  }
  
  cauchy_factory <- function(gamma = 1.0) {
    force(gamma)
    function(x, z) {
      d2 <- sum((as.numeric(x) - as.numeric(z))^2)
      1 / (1 + gamma * d2)
    }
  }

  # --- B. Generate Variants ---
  wavelet_vars <- create_kernel_variants(wavelet_factory, a = c(0.5, 1.0, 2.0))
  cauchy_vars  <- create_kernel_variants(cauchy_factory, gamma = c(0.1, 1.0))

  # --- C. Define Named Grids for All Kernels ---
  all_grids <- list(
    linear = list(kernel = "linear", alpha = c(0.1, 1.0), rank_ratio = 0.0),
    rbf = list(kernel = "rbf", alpha = c(0.1, 1.0), gamma = c(0.01, 0.1), rank_ratio = 0.0),
    wavelet = list(kernel = wavelet_vars, alpha = c(0.1, 1.0), rank_ratio = 0.0),
    cauchy = list(kernel = cauchy_vars, alpha = c(0.1, 1.0), rank_ratio = 0.0)
  )

  # --- D. Run Tune All ---
  # As mensagens de convergência do Python serão silenciadas agora.
  results_all <- tune_fastsvm_all(
    data       = df,
    time_col   = "tempo",
    delta_col  = "cens",
    grids      = all_grids,
    cv         = 3,
    n_jobs     = 1,
    verbose    = 0,
    max_iter   = 500L
  )

  print(results_all)
}
}

}

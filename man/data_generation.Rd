% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/random_data.R
\name{data_generation}
\alias{data_generation}
\title{Example data generator for testing FastSurvivalSVM}
\usage{
data_generation(n, prop_cen)
}
\arguments{
\item{n}{Integer. Sample size.}

\item{prop_cen}{Numeric in \eqn{(0, 1)}. Approximate proportion of
censored observations among the \code{n} generated individuals.}
}
\value{
A \code{data.frame} with the following columns:
\describe{
  \item{tempo}{Observed time (minimum between event time and censoring time).}
  \item{cens}{Event indicator: \code{1} = event, \code{0} = right censoring.}
  \item{x1}{Continuous covariate generated from \eqn{N(1, 1^2)}.}
  \item{x2}{Continuous covariate generated from \eqn{N(2, 2^2)}.}
  \item{x3}{Continuous covariate generated from an exponential distribution
            with rate 1.}
}
}
\description{
This function simulates a right-censored survival dataset from a fixed
Weibull model with three covariates. It is intended **only** as a simple
helper for examples, unit tests, and reproducible illustrations of
\code{FastSurvivalSVM} functionality.
}
\details{
The data-generating mechanism is not general-purpose and is not meant to
cover arbitrary covariate structures or censoring schemes. The model is
hard-coded with three covariates (\code{x1}, \code{x2}, \code{x3}), a
Weibull baseline distribution, and a specific nonlinear predictor.


The true event times \code{time_t} follow a Weibull distribution with
shape parameter \code{shape = 2} and scale parameter \code{scale = 5},
modified by a nonlinear predictor:
\deqn{
  \eta = x_1 \log(|x_2|) + 2 \sin(x_3 - x_2)^2,
}
and the event times are generated via the inverse CDF method:
\deqn{
  T = \left( -\log(1 - U) \right)^{1/\text{shape}} \times
      \text{scale} \times \exp(-\eta),
}
where \eqn{U \sim \text{Uniform}(0, 1)}.

Censoring times are generated by randomly selecting approximately
\code{n * prop_cen} individuals and replacing their event time by a
uniform draw between the minimum observed \code{time_t} and the
individual's own \code{time_t}. For those individuals, the event
indicator \code{cens} is set to \code{0}.
}
\examples{
set.seed(123)
df <- data_generation(n = 300L, prop_cen = 0.1)
head(df)

if (reticulate::py_module_available("sksurv")) {
  # Example: using this toy dataset with FastKernelSurvivalSVM
  fit <- fast_kernel_surv_svm_fit(
    data      = df,
    time_col  = "tempo",
    delta_col = "cens",
    kernel    = "rbf",
    alpha     = 1,
    rank_ratio = 0
  )

  score_fastsvm(fit, df)
}

}
